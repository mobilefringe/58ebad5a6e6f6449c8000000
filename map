<div>
	<h1 class="page_title">PLAN DU CENTRE</h1> <!-- Centre Map -->
	<select class="mapper" id="store_select_container">
	    <label for="store_select_container" style="display: none">Select a Store</label>
	    <script id="store_select_template" type="x-tmpl-mustache/text">
            <option value="{{x_coordinate}},{{y_coordinate}},{{id}}" data-value="{{name}}">{{name}}</option>
        </script>
	</select>
	<div id="parent_div">
		<div id="zoom_container"  >
			<img alt="Store Directory Map" id="map_image" src=""/>
			<div class="landmarks" data-show-at-zoom="100" data-allow-drag="true"></div>
		</div>
	</div>
</div>
<div class="mobile_line_break"></div>
<script>
$(document).ready(function(){
    init();
    function renderAll(){
        var stores = getStoresList();
        renderStoreList('#store_select_container','#store_select_template', stores, "stores");
        $(".mapper").prepend("<option selected>Sélectionnez un magasin</option>");
        
        // if(getStorage().current_locale == "en-CA"){
        //     $(".mapper").prepend("<option selected>Select a Store</option>");
        // }
        // if(getStorage().current_locale == "fr-CA"){
        //     $(".mapper").prepend("<option selected>Sélectionnez un magasin</option>"); 
        // }

        $("#map_image").attr("src", getPNGMapURL())
		$('#map_image').smoothZoom({
		    width: 840,
            height: 500,
		    initial_ZOOM: 0,
			zoom_MIN: 0,
			zoom_MAX: 250,
			responsive: true,
		    responsive_maintain_ratio: true,
			zoom_BUTTONS_SHOW : 'YES',
			pan_BUTTONS_SHOW : 'NO',
			pan_LIMIT_BOUNDARY : 'NO',
			button_SIZE: 34,
			button_ALIGN: "top right",
			zoom_OUT_TO_FIT: "NO",
			container: 'zoom_container'
		});
    	show_png_pin(".mapper", "#map_image");
    	
    	setTimeout(function() {
            show_content();
        }, 500);
    }
    loadMallDataCached(renderAll);
})
</script>